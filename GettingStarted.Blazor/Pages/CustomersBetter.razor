@page "/better"
@using GettingStarted.Blazor.UIElements
@if (Loading)
{
    <p><em>Loading...</em></p>
}
else
{
    @if (Insert is not null)
    {
        <BetterCustomerInsert Input="Insert" OnSubmitClick="InsertSaveAsync" OnCancelClick="() => Insert = null" ErrorMessage="@InsertError"></BetterCustomerInsert>
    }
    else if (Update is not null)
    {
        <BetterCustomerEdit Input="Update" OnSubmitClick="UpdateSaveAsync" OnCancelClick="() => Update = null" ErrorMessage="@UpdateError"></BetterCustomerEdit>
    }
    else
    {
        <BetterCustomerTable Customers="Customers" OnDeleteClick="DeleteAsync" OnEditClick="InitUpdate" OnAddClick="InitInsert"></BetterCustomerTable>
    }
}